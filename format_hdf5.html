

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>HDF5 tables &mdash; ATpy v0.9.5.1 documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.9.5.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="ATpy v0.9.5.1 documentation" href="index.html" />
    <link rel="up" title="Supported Formats" href="formats.html" />
    <link rel="next" title="IPAC tables" href="format_ipac.html" />
    <link rel="prev" title="VO tables" href="format_vo.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="format_ipac.html" title="IPAC tables"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="format_vo.html" title="VO tables"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">ATpy v0.9.5.1 documentation</a> &raquo;</li>
          <li><a href="formats.html" accesskey="U">Supported Formats</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/atpy_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">HDF5 tables</a><ul>
<li><a class="reference internal" href="#full-api-for-advanced-users">Full API for advanced users</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="format_vo.html"
                        title="previous chapter">VO tables</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="format_ipac.html"
                        title="next chapter">IPAC tables</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/format_hdf5.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="hdf5-tables">
<span id="format-hdf5"></span><h1>HDF5 tables<a class="headerlink" href="#hdf5-tables" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The Hierarchical Data Format (HDF) is a format that can be used to
store, transmit, and manipulate datasets (n-dimensional arrays or
tables). Datasets can be collected into groups, which can be
collected into larger groups. Datasets and groups can contain
meta-data, in the form of attributes.</p>
</div>
<p>HDF5 tables are supported thanks to the <a class="reference external" href="http://code.google.com/p/h5py/">h5py</a> module. Reading HDF5 tables is straightforward:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">atpy</span><span class="o">.</span><span class="n">Table</span><span class="p">(</span><span class="s">&#39;table.hdf5&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>If more than one table is present in the file, ATpy will give a list of available tables, identified by a path. The specific table to read can then be specified with the <tt class="docutils literal"><span class="pre">table=</span></tt> argument:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">atpy</span><span class="o">.</span><span class="n">Table</span><span class="p">(</span><span class="s">&#39;table.hdf5&#39;</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="s">&#39;Measurements&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>In the case where a table is inside a group, or a hierarchy of groups, the table name may be a full path inside the file:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">atpy</span><span class="o">.</span><span class="n">Table</span><span class="p">(</span><span class="s">&#39;table.hdf5&#39;</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="s">&#39;Group1/Measurements&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To read in all tables in an HDF5 file, use the <tt class="docutils literal"><span class="pre">TableSet</span></tt> class:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">atpy</span><span class="o">.</span><span class="n">TableSet</span><span class="p">(</span><span class="s">&#39;table.hdf5&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>When writing out an HDF5 table, the default is to write the uncompressed, but it is possible to turn on compression using the <tt class="docutils literal"><span class="pre">compression</span></tt> argument:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;table.hdf5&#39;</span><span class="p">,</span> <span class="n">compression</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>To write the table to a specific group within the file, use the <tt class="docutils literal"><span class="pre">group</span></tt> argument:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;table.hdf5&#39;</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s">&#39;Group4&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Finally, it is possible to append tables to existing files, using the <tt class="docutils literal"><span class="pre">append</span></tt> argument. For example, the following two commands write out two tables to the same existing file:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t1</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;existing_table.hdf&#39;</span><span class="p">,</span> <span class="n">append</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t2</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;existing_table.hdf&#39;</span><span class="p">,</span> <span class="n">append</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>In the event that ATpy does not recognize an HDF5 table (for example if the file extension is obscure),  the type can be explicitly given:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">atpy</span><span class="o">.</span><span class="n">Table</span><span class="p">(</span><span class="s">&#39;table&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s">&#39;hdf5&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As for all file formats, the <tt class="docutils literal"><span class="pre">verbose</span></tt> argument can be specified to
control whether warning messages are shown when reading (the default is
<tt class="docutils literal"><span class="pre">verbose=True</span></tt>), and the <tt class="docutils literal"><span class="pre">overwrite</span></tt> argument can be used when
writing to overwrite a file (the default is <tt class="docutils literal"><span class="pre">overwrite=False</span></tt>).</p>
</div>
<div class="section" id="full-api-for-advanced-users">
<h2>Full API for advanced users<a class="headerlink" href="#full-api-for-advanced-users" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The following functions should not be called directly - the arguments  should be passed to <tt class="docutils literal"><span class="pre">Table()/Table.read()</span></tt>,
<tt class="docutils literal"><span class="pre">Table.write()</span></tt>, <tt class="docutils literal"><span class="pre">TableSet()/TableSet.read()</span></tt>, and
<tt class="docutils literal"><span class="pre">TableSet.write()</span></tt> respectively.</p>
</div>
<dl class="function">
<dt id="atpy.hdf5table.read">
<tt class="descclassname">atpy.hdf5table.</tt><tt class="descname">read</tt><big>(</big><em>self</em>, <em>filename</em>, <em>table=None</em>, <em>verbose=True</em><big>)</big><a class="headerlink" href="#atpy.hdf5table.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a table from an HDF5 file</p>
<p>Required Arguments:</p>
<blockquote>
<div><dl class="docutils">
<dt><em>filename</em>: [ string ]</dt>
<dd><blockquote class="first">
<div>The HDF5 file to read the table from</div></blockquote>
<p class="last">OR</p>
</dd>
<dt><em>file or group handle</em>: [ h5py.highlevel.File | h5py.highlevel.Group ]</dt>
<dd>The HDF5 file handle or group handle to read the table from</dd>
</dl>
</div></blockquote>
<p>Optional Keyword Arguments:</p>
<blockquote>
<div><dl class="docutils">
<dt><em>table</em>: [ string ]</dt>
<dd>The name of the table to read from the HDF5 file (this is only
required if there are more than one table in the file)</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="atpy.hdf5table.write">
<tt class="descclassname">atpy.hdf5table.</tt><tt class="descname">write</tt><big>(</big><em>self</em>, <em>filename</em>, <em>compression=False</em>, <em>group=''</em>, <em>append=False</em>, <em>overwrite=False</em>, <em>ignore_groups=False</em><big>)</big><a class="headerlink" href="#atpy.hdf5table.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the table to an HDF5 file</p>
<p>Required Arguments:</p>
<blockquote>
<div><dl class="docutils">
<dt><em>filename</em>: [ string ]</dt>
<dd><blockquote class="first">
<div>The HDF5 file to write the table to</div></blockquote>
<p class="last">OR</p>
</dd>
<dt><em>file or group handle</em>: [ h5py.highlevel.File | h5py.highlevel.Group ]</dt>
<dd>The HDF5 file handle or group handle to write the table to</dd>
</dl>
</div></blockquote>
<p>Optional Keyword Arguments:</p>
<blockquote>
<div><dl class="docutils">
<dt><em>compression</em>: [ True | False ]</dt>
<dd>Whether to compress the table inside the HDF5 file</dd>
<dt><em>group</em>: [ string ]</dt>
<dd>The group to write the table to inside the HDF5 file</dd>
<dt><em>append</em>: [ True | False ]</dt>
<dd>Whether to append the table to an existing HDF5 file</dd>
<dt><em>overwrite</em>: [ True | False ]</dt>
<dd>Whether to overwrite any existing file without warning</dd>
<dt><em>ignore_groups</em>: [ True | False ]</dt>
<dd>With this option set to True, groups are removed from table names.
With this option set to False, tables are placed in groups that
are present in the table name, and the groups are created if
necessary.</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="atpy.hdf5table.read_set">
<tt class="descclassname">atpy.hdf5table.</tt><tt class="descname">read_set</tt><big>(</big><em>self</em>, <em>filename</em>, <em>pedantic=False</em>, <em>verbose=True</em><big>)</big><a class="headerlink" href="#atpy.hdf5table.read_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Read all tables from an HDF5 file</p>
<p>Required Arguments:</p>
<blockquote>
<div><dl class="docutils">
<dt><em>filename</em>: [ string ]</dt>
<dd>The HDF5 file to read the tables from</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="atpy.hdf5table.write_set">
<tt class="descclassname">atpy.hdf5table.</tt><tt class="descname">write_set</tt><big>(</big><em>self</em>, <em>filename</em>, <em>compression=False</em>, <em>group=''</em>, <em>append=False</em>, <em>overwrite=False</em>, <em>ignore_groups=False</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#atpy.hdf5table.write_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the tables to an HDF5 file</p>
<p>Required Arguments:</p>
<blockquote>
<div><dl class="docutils">
<dt><em>filename</em>: [ string ]</dt>
<dd><blockquote class="first">
<div>The HDF5 file to write the tables to</div></blockquote>
<p class="last">OR</p>
</dd>
<dt><em>file or group handle</em>: [ h5py.highlevel.File | h5py.highlevel.Group ]</dt>
<dd>The HDF5 file handle or group handle to write the tables to</dd>
</dl>
</div></blockquote>
<p>Optional Keyword Arguments:</p>
<blockquote>
<div><dl class="docutils">
<dt><em>compression</em>: [ True | False ]</dt>
<dd>Whether to compress the tables inside the HDF5 file</dd>
<dt><em>group</em>: [ string ]</dt>
<dd>The group to write the table to inside the HDF5 file</dd>
<dt><em>append</em>: [ True | False ]</dt>
<dd>Whether to append the tables to an existing HDF5 file</dd>
<dt><em>overwrite</em>: [ True | False ]</dt>
<dd>Whether to overwrite any existing file without warning</dd>
<dt><em>ignore_groups</em>: [ True | False ]</dt>
<dd>With this option set to True, groups are removed from table names.
With this option set to False, tables are placed in groups that
are present in the table name, and the groups are created if
necessary.</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="format_ipac.html" title="IPAC tables"
             >next</a> |</li>
        <li class="right" >
          <a href="format_vo.html" title="VO tables"
             >previous</a> |</li>
        <li><a href="index.html">ATpy v0.9.5.1 documentation</a> &raquo;</li>
          <li><a href="formats.html" >Supported Formats</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009, Eli Bressert and Thomas Robitaille.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>